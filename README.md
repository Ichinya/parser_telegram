# Парсер телеграм каналов

## Установка
* Создаете новое приложение [telegram](https://my.telegram.org/)
* Переименовать `.env.example` в `.env`
* Указать в файле `.env` настройки - ключи доступа телеграм, к бд.
* Если не использовать хранилище S3, то файлы будут сохраняться в папку `media`
* При первом запуске нужно подтвердить доступ через ввод номера телефона и кода, который придет в телеграм

## Возможности
* При первом запуске создается файл сессии. Если скрипт не запускать более двух недель, то сессия может "слететь"
* Так же при первом запуске создаются таблицы в базе данных
* После первого запуска заходим в базу данных в таблице `tg_channels` нужно создать записи, где поле `channel_input` ссылка на канал или ссылка с приглашением.
* После запуска будет спарсены все сообщения и они будут занесены в бд, также все файлы будут сохранены в хранилище S3 или в папку media

## Ограничения
* Если несколько раз полностью парсить одни и теже каналы (все сообщения из канала), то можно получить бан. При этом сервер тоже получает бан и следующие приложения скорее всего не запустятся.
* Скорее всего при большом количестве парсинга каналов так же можно получить бан

## Использование
* Скрипт писался для поиска определенных слов в двух каналах. Запускается раз в час, где проверяются только новые сообщения.